!function(){"use strict";angular.module("phidias-demo-app",["phidias-angular","ui.router","ngAnimate"])}(),function(){"use strict";function e(e){e.otherwise(function(e,n){var t=e.get("$state");t.go("home")})}function n(e,n,t){e.$state=n,e.phiApi=t,t.setHost("http://api.mejorescolegios.es"),e.$on("$stateChangeStart",function(n,t,i,r,a){e.stateChangeDirection="right",void 0!=r.data&&void 0!=r.data.order&&void 0!=t.data&&void 0!=t.data.order&&(e.stateChangeDirection=r.data.order<t.data.order?"right":"left")})}angular.module("phidias-demo-app").config(e).run(n),e.$inject=["$urlRouterProvider"],n.$inject=["$rootScope","$state","phiApi"]}(),function(){"use strict";function e(e){e.state("city",{url:"/cities/:city",templateUrl:"/application/states/city/city.html",controller:n,controllerAs:"vm"})}function n(e,n){function t(){i.find()}var i=this;i.city=e.params.city,i.centers=[],i.isLoading=!1,i.page=1,i.total=null,i.find=function(e){e=void 0==e?"":e.trim(),i.isLoading=!0,n.get("centers",{page:i.page,search:e,"filters[city]":i.city}).then(function(e){i.centers=e.data,i.page=parseInt(e.headers("x-phidias-collection-page")),i.total=parseInt(e.headers("x-phidias-collection-total"))})["finally"](function(){i.isLoading=!1})},t()}angular.module("phidias-demo-app").config(e),e.$inject=["$stateProvider"],n.$inject=["$state","phiApi"],angular.module("phidias-demo-app").animation(".main-view",["$timeout",function(e){var n=290,t=null;return{enter:function(i,r){return t=i.find("phi-state-cover"),i.addClass("ng-enter"),e(function(){i.addClass("ng-enter-active")},0),e(function(){i.removeClass("ng-enter ng-enter-active"),r()},n),function(e){}},leave:function(i,r){var a=t[0].clientHeight,o=i.find("phi-state-cover");return o.css("max-height","none"),o.css("height",o[0].clientHeight+"px"),t.css("height",o[0].clientHeight+"px"),i.addClass("ng-leave"),e(function(){i.addClass("ng-leave-active"),o.css("height",a+"px"),t.css("height",a+"px")},0),e(function(){i.removeClass("ng-leave ng-leave-active"),o.css("height","auto"),t.css("height","auto"),r()},n),function(e){}}}}])}(),function(){"use strict";function e(e){e.state("sample",{url:"/sample",templateUrl:"/application/states/sample/sample.html",controller:n,controllerAs:"vm",data:{order:1}})}function n(e,n,t){var i=this;i.title="sample",i.isVisible=!0,i.visibleAnimation="",i.cities=[],i.isLoading=!0,t.get("regions/all/cities?limit=5").then(function(e){i.cities=e.data,i.isLoading=!1})}angular.module("phidias-demo-app").config(e),e.$inject=["$stateProvider"],n.$inject=["$state","$scope","phiApi"]}(),function(){"use strict";function e(e){e.state("home",{url:"/",templateUrl:"/application/states/home/home.html",controller:n,controllerAs:"vm"})}function n(e){function n(){t.find()}var t=this;t.query=null,t.cities=[],t.centers=[],t.isLoading=!1,t.find=function(n){void 0==n&&(n=""),n=n.trim(),t.isLoading=!0,e.get("regions/all/cities",{limit:4,search:n}).then(function(e){t.cities=e.data,t.isLoading=!1}),n?e.get("centers",{search:n}).then(function(e){t.centers=e.data})["finally"](function(){t.isLoading=!1}):t.centers=[]},n()}angular.module("phidias-demo-app").config(e),e.$inject=["$stateProvider"],n.$inject=["phiApi"]}(),function(){"use strict";function e(e){e.state("test",{url:"/test/:number",templateUrl:"/application/states/test/test.html",controller:n,controllerAs:"vm",data:{order:2}})}function n(e,n,t){var i=this;i.title="test"}angular.module("phidias-demo-app").config(e),e.$inject=["$stateProvider"],n.$inject=["$state","$scope","phiApi"]}(),angular.module("phidias-demo-app").run(["$templateCache",function(e){e.put("/application/states/city/city.html",'<phi-state id="city">\r\n    <phi-state-cover style="background-image: url(\'http://beta.mejorescolegios.es/img/cities/madrid.jpg\')" phi-color-tint="#000">\r\n        <div class="header">\r\n            <div class="search" phi-icon-left="{{vm.isLoading ? \'fa-spinner\' : \'fa-search\'}}" phi-icon-animation="{{vm.isLoading ? \'spin\' : \'\'}}">\r\n                <input type="text"\r\n                    placeholder="Busca colegios en {{vm.city}}"\r\n                    ng-model="vm.query"\r\n                    ng-model-options="{debounce: 400}"\r\n                    ng-change="vm.find(vm.query)"\r\n                />\r\n            </div>\r\n        </div>\r\n    </phi-state-cover>\r\n\r\n    <phi-state-contents>\r\n\r\n        <h1>\r\n            <strong ng-bind="vm.isLoading ? \'buscando\' : vm.total"></strong>\r\n            <span>colegios en</span>\r\n            <span ng-bind="vm.city"></span>\r\n        </h1>\r\n\r\n        <section id="centers" phi-layout="row" phi-layout-wrap>\r\n            <phi-card ng-repeat="center in vm.centers" class="center">\r\n                <phi-card-cover style="background-image: url(\'{{center.cover}}\'), url(\'img/cover.jpg\')">\r\n                    <h1 class="title" ng-bind="center.name"></h1>\r\n                </phi-card-cover>\r\n\r\n                <phi-card-contents>\r\n                    <div class="logo" ng-if="center.logo">\r\n                        <img ng-src="{{center.logo}}" alt="{{center.name}}" />\r\n                    </div>\r\n                    <p class="description" ng-bind="center.category"></p>\r\n                    <p class="address" phi-icon-left="fa-map-marker">{{center.address}}, {{center.city}}, {{center.region}}, {{center.postalCode}}</p>\r\n                </phi-card-contents>\r\n\r\n            </phi-card>\r\n        </section>\r\n\r\n\r\n    </phi-state-contents>\r\n\r\n</phi-state>'),e.put("/application/states/sample/sample.html",'<phi-state>\r\n    <phi-state-cover style="background-image: url(\'img/cover.jpg\')" phi-color-tint="#01579b" ng-class="{collapsed: $state.current.name != \'default\'}">\r\n        <div>\r\n            <h1>Page Title</h1>\r\n            <p>Cover subtext</p>\r\n        </div>\r\n    </phi-state-cover>\r\n\r\n    <phi-state-navigation>\r\n        <phi-menu>\r\n            <phi-menu-item ui-sref="default" ui-sref-active="active">Default</phi-menu-item>\r\n            <phi-menu-item ui-sref="test({number: 1})" ui-sref-active="active">Sample 1</phi-menu-item>\r\n            <phi-menu-item ui-sref="test({number: 2})" ui-sref-active="active">Sample 2</phi-menu-item>\r\n        </phi-menu>\r\n    </phi-state-navigation>\r\n\r\n    <phi-state-contents ui-view>\r\n        <h1>Contents are loading</h1>\r\n    </phi-state-contents>\r\n</phi-state>'),e.put("/application/states/home/home.html",'<phi-state id="home">\r\n    <phi-state-cover style="background-image: url(\'img/cover.jpg\')" phi-color-tint="#01579b" ng-class="{collapsed: searchIsFocused || !!vm.query}">\r\n        <div class="header">\r\n            <h1>Encuentra el mejor colegio</h1>\r\n            <div class="search" phi-icon-left="{{vm.isLoading ? \'fa-spinner\' : \'fa-search\'}}" phi-icon-animation="{{vm.isLoading ? \'spin\' : \'\'}}">\r\n                <input type="text"\r\n                    placeholder="Busca por ciudad o nombre del colegio"\r\n                    ng-model="vm.query"\r\n                    ng-model-options="{debounce: 400}"\r\n                    ng-change="vm.find(vm.query)"\r\n                    ng-focus="searchIsFocused = true"\r\n                    ng-blur="searchIsFocused = false" \r\n                />\r\n            </div>\r\n        </div>\r\n    </phi-state-cover>\r\n\r\n    <phi-state-contents>\r\n\r\n        <section id="cities" phi-layout="row" phi-layout-wrap>\r\n            <phi-card class="phi-card-image" ng-repeat="city in vm.cities" ui-sref="city({city: city.name})">\r\n                <phi-card-cover style="background-image: url(\'http://beta.mejorescolegios.es/img/cities/{{city.name}}.jpg\')"></phi-card-cover>\r\n                <phi-card-contents>\r\n                    <h1 ng-bind="city.name"></h1>\r\n                    <p><strong ng-bind="city.count"></strong> colegios</p>\r\n                </phi-card-contents>\r\n            </phi-card>\r\n        </section>\r\n\r\n        <section id="centers" phi-layout="row" phi-layout-wrap>\r\n            <phi-card ng-repeat="center in vm.centers" class="center">\r\n                <phi-card-cover style="background-image: url(\'{{center.cover}}\'), url(\'img/cover.jpg\')">\r\n                    <h1 class="title" ng-bind="center.name"></h1>\r\n                </phi-card-cover>\r\n\r\n                <phi-card-contents>\r\n                    <div class="logo" ng-if="center.logo">\r\n                        <img ng-src="{{center.logo}}" alt="{{center.name}}" />\r\n                    </div>\r\n                    <p class="description" ng-bind="center.category"></p>\r\n                    <p class="address" phi-icon-left="fa-map-marker">{{center.address}}, {{center.city}}, {{center.region}}, {{center.postalCode}}</p>\r\n                </phi-card-contents>\r\n\r\n            </phi-card>\r\n        </section>\r\n\r\n    </phi-state-contents>\r\n\r\n</phi-state>'),e.put("/application/states/test/test.html",'<section>\r\n    <h1>phi-visible</h1>\r\n\r\n    <input type="checkbox"" ng-model="vm.isVisible">phi-visible</input>\r\n\r\n    <select ng-model="vm.visibleAnimation">\r\n        <option value="">default</option>\r\n        <option value="scale">scale</option>\r\n        <option value="slide-top">slide-top</option>\r\n        <option value="slide-right">slide-right</option>\r\n        <option value="slide-bottom">slide-bottom</option>\r\n        <option value="slide-left">slide-left</option>\r\n        <option value="zoom-in">zoom-in</option>\r\n        <option value="zoom-out">zoom-out</option>\r\n    </select>\r\n\r\n    <div>\r\n        <code>\r\n            &lt;div phi-visible="{{!!vm.isVisible}}" phi-visible-animation="{{vm.visibleAnimation}}"&gt;\r\n            &lt;/div&gt;\r\n        </code>\r\n\r\n        <h1 phi-visible="{{!!vm.isVisible}}" phi-visible-animation="{{vm.visibleAnimation}}" phi-texture="paper" class="phi-padded">\r\n            Hello\r\n        </h1>\r\n    </div>\r\n\r\n</section>')}]);