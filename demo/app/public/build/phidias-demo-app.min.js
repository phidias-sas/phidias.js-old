!function(){"use strict";angular.module("phidias-demo-app",["phidias-angular","ui.router","ngAnimate"])}(),function(){"use strict";function n(n){n.otherwise(function(n,e){var i=n.get("$state");i.go("home")})}function e(n,e,i,t){n.$state=e,n.phiApp=t,n.phiApi=i,n.$on("$stateChangeStart",function(e,i,t,r,a){n.stateChangeDirection="right",void 0!=r.data&&void 0!=r.data.order&&void 0!=i.data&&void 0!=i.data.order&&(n.stateChangeDirection=r.data.order<i.data.order?"right":"left")})}angular.module("phidias-demo-app").config(n).run(e),n.$inject=["$urlRouterProvider"],e.$inject=["$rootScope","$state","phiApi","phiApp"]}(),angular.module("phidias-demo-app").animation(".main-view",["$timeout",function(n){var e=290,i=null;return{enter:function(t,r){return i=t.find("phi-state-cover"),t.addClass("ng-enter"),n(function(){t.addClass("ng-enter-active")},0),n(function(){t.removeClass("ng-enter ng-enter-active"),r()},e),function(n){}},leave:function(t,r){var a=i[0].clientHeight,o=t.find("phi-state-cover");return o.css("max-height","none"),o.css("height",o[0].clientHeight+"px"),i.css("height",o[0].clientHeight+"px"),t.addClass("ng-leave"),n(function(){t.addClass("ng-leave-active"),o.css("height",a+"px"),i.css("height",a+"px")},0),n(function(){t.removeClass("ng-leave ng-leave-active"),o.css("height","auto"),i.css("height","auto"),r()},e),function(n){}}}}]),function(){"use strict";function n(n){n.state("app",{"abstract":!0,templateUrl:"/application/states/app/app.html"})}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"]}(),function(){"use strict";function n(n){n.state("center",{parent:"app","abstract":!0,url:"/centers/:centerId",templateUrl:"/application/states/center/center.html",controller:e,controllerAs:"vm",data:{order:1}})}function e(n,e){function i(){r.load()}var t="/centers/"+n.params.centerId,r=this;r.centerId=n.params.centerId,r.isLoading=!1,r.center=null,r.load=function(){r.isLoading=!0,e.get(t).then(function(n){r.center=n.data})["finally"](function(){r.isLoading=!1})},i()}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"],e.$inject=["$state","phiApi"]}(),function(){"use strict";function n(n){n.state("city",{parent:"app",url:"/cities/:city",templateUrl:"/application/states/city/city.html",controller:e,controllerAs:"vm"})}function e(n,e,i){function t(){r.find()}var r=this;r.city=n.params.city,r.centers=[],r.isLoading=!1,r.page=1,r.total=null,r.find=function(n){n=void 0==n?"":n.trim(),r.isLoading=!0,e.get("centers",{limit:21,page:r.page,search:n,"filters[city]":r.city}).then(function(n){r.centers=n.data,r.page=parseInt(n.headers("x-phidias-collection-page")),r.total=parseInt(n.headers("x-phidias-collection-total"))})["finally"](function(){r.isLoading=!1})},r.view="grid",r.setView=function(n){r.view!=n&&(r.view=n,"map"==r.view&&r.map.initialize())},r.map={googleMap:null,markers:[],isInitialized:!1,boundsChangePromise:null,initialize:function(){r.map.isInitialized||(r.map.googleMap=new google.maps.Map(document.getElementById("google-map"),{center:{lat:-3.4497434,lng:-76.5334475},zoom:15}),i(function(){google.maps.event.trigger(r.map.googleMap,"resize")},100),google.maps.event.addListener(r.map.googleMap,"bounds_changed",function(){i.cancel(r.map.boundsChangePromise),r.map.boundsChangePromise=i(function(){console.log("map bounds changed!",r.map.googleMap.getBounds().toUrlValue())},500)}),r.map.isInitialized=!0,r.map.setMarkers(r.centers,!0))},clear:function(){for(var n=0;n<r.map.markers.length;n++)r.map.markers[n].setMap(null);r.map.markers=[]},setMarkers:function(e,i){r.map.clear(),e.length&&(e.forEach(function(e){if(void 0===e.count||1==e.count){var i=new google.maps.Marker({map:r.map.googleMap,title:e.name,icon:"img/pin-active.png",position:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)}});i.centerId=e.id,i.addListener("click",function(){window.open(n.href("center.home",{centerId:this.centerId}),"_blank")})}else{var i=new CustomMarker(r.map.googleMap,new google.maps.LatLng(e.latitude,e.longitude),"phi-marker-cluster",e.count);i.addListener("click",function(){r.map.googleMap.setCenter(this.getPosition()),r.map.googleMap.setZoom(r.map.googleMap.getZoom()+3)})}r.map.markers.push(i)}),i&&r.map.googleMap.setCenter({lat:parseFloat(e[0].latitude),lng:parseFloat(e[0].longitude)}))}},t()}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"],e.$inject=["$state","phiApi","$timeout"]}(),function(){"use strict";function n(n){n.state("home",{parent:"app",url:"/",templateUrl:"/application/states/home/home.html",controller:e,controllerAs:"vm"})}function e(n,e){function i(){t.find()}var t=this;t.query=null,t.cities=[],t.centers=[],t.isLoading=!1,t.find=function(e){void 0==e&&(e=""),e=e.trim(),t.isLoading=!0,n.get("regions/all/cities",{limit:e?6:3,search:e}).then(function(n){t.cities=n.data,t.isLoading=!1}),e?n.get("centers",{search:e}).then(function(n){t.centers=n.data})["finally"](function(){t.isLoading=!1}):t.centers=[]},i()}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"],e.$inject=["phiApi","$scope"]}(),function(){"use strict";function n(n){n.state("sample",{"abstract":!0,url:"/sample",templateUrl:"/application/states/sample/sample.html",controller:e,controllerAs:"vm",data:{order:1}})}function e(n,e,i){var t=this;t.title="sample",t.description="some description",t.foo="FOO"}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"],e.$inject=["$state","$scope","phiApi"]}(),function(){"use strict";function n(n){n.state("center.admissions",{url:"/admissions",templateUrl:"/application/states/center/admissions/admissions.html",controller:"centerAdmissionsController",controllerAs:"vm"})}function e(n,e,i){function t(){i.get(r,{type:"process"}).then(function(n){a.processes=n.data})}var r="nodes/"+n.params.centerId+"/posts/",a=this;a.parent=e.$parent.vm,a.processes=[],t()}angular.module("phidias-demo-app").config(n).controller("centerAdmissionsController",e),n.$inject=["$stateProvider"],e.$inject=["$state","$scope","phiApi"]}(),function(){"use strict";function n(n){n.state("center.facilities",{url:"/facilities",templateUrl:"/application/states/center/facilities/facilities.html",controller:"centerFacilitiesController",controllerAs:"vm"})}function e(n,e){function i(){n.get("centers/"+e.params.centerId+"/facilities",{sort:"-publishDate"}).then(function(n){t.facilities=n.data})}var t=this;t.facilities=[],t.gallery={},i()}angular.module("phidias-demo-app").config(n).controller("centerFacilitiesController",e),n.$inject=["$stateProvider"],e.$inject=["phiApi","$state"]}(),function(){"use strict";function n(n){n.state("center.home",{url:"/home",templateUrl:"/application/states/center/home/home.html",controller:e,controllerAs:"vm"})}function e(n,e){function i(){e.get(t,{type:"home"}).then(function(n){n.data.length&&(r.post=n.data[0],r.post.url=t+"/"+n.data[0].id)})}var t="nodes/"+n.params.centerId+"/posts",r=this;r.reload=i,r.post=null,i()}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"],e.$inject=["$state","phiApi"]}(),function(){"use strict";function n(n){n.state("sample.child",{url:"/:id",templateUrl:"/application/states/sample/child/child.html",controller:e,controllerAs:"vm"})}function e(n,e,i){var t=this;t.id=n.params.id,t.title="sample",t.description="some description";var r=e.$parent.vm;r.description="At state "+t.id,r.isCollapsed="one"!=t.id}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"],e.$inject=["$state","$scope","phiApi"]}(),function(){"use strict";function n(n){n.state("admissionHome",{parent:"app",url:"/centers/:centerId/admissions/:admissionId",templateUrl:"/application/states/center/admissions/admissionId/admissionId.html",controller:e,controllerAs:"vm"})}function e(n,e){function i(){n.get(r).then(function(n){a.post=n.data,a.post.url=r}),n.get(t).then(function(n){a.center=n.data})}var t="centers/"+e.params.centerId,r="nodes/"+e.params.centerId+"/posts/"+e.params.admissionId,a=this;a.center=null,a.post=null,i()}angular.module("phidias-demo-app").config(n),n.$inject=["$stateProvider"],e.$inject=["phiApi","$state"]}(),angular.module("phidias-demo-app").run(["$templateCache",function(n){n.put("/application/states/app/app.html",'<phi-app-bar>\r\n    <div>\r\n        <a ng-if="$state.current.name != \'home\'" href class="back" phi-icon-left="fa-arrow-left" onclick="history.go(-1)"></a>\r\n\r\n        <div class="authentication">\r\n            <div id="main-user" ng-if="phiApp.isAuthenticated">\r\n\r\n                <h1 ng-bind="phiApp.user.firstName + \' \' + phiApp.user.lastName" ng-click="userTooltipIsVisible = !userTooltipIsVisible"></h1>\r\n\r\n                <div phi-tooltip-for="main-user" phi-visible="{{userTooltipIsVisible}}" phi-visible-animation="slide-bottom">\r\n                    <phi-menu phi-texture="paper">\r\n                        <phi-menu-item phi-icon-left="fa-home" ui-sref="home">Mi perfil</phi-menu-item>\r\n                        <phi-menu-item phi-icon-left="fa-times" ng-click="phiApp.logout()">Salir</phi-menu-item>\r\n                    </phi-menu>\r\n                </div>\r\n\r\n            </div>\r\n            <div ng-if="!phiApp.isAuthenticated">\r\n                <a href ng-click="phiApp.showLogin()">Ingresar</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</phi-app-bar>\r\n\r\n<div class="main-view" ui-view></div>\r\n\r\n\r\n<!-- Login modal -->\r\n<div phi-modal id="login-modal" phi-visible="{{phiApp.loginShown}}" ng-click="phiApp.hideLogin()">\r\n\r\n    <div>\r\n\r\n        <div class="actions" ng-click="$event.stopPropagation()">\r\n            <a href ng-class="{active: !phiApp.loginRegistering}" ng-click="phiApp.loginRegistering = false">Ya tengo una cuenta</a>\r\n            <a href ng-class="{active: phiApp.loginRegistering}" ng-click="phiApp.loginRegistering = true">Crear una cuenta nueva</a>\r\n        </div>\r\n\r\n        <div phi-texture="paper" class="phi-padded" ng-click="$event.stopPropagation()">\r\n\r\n            <div ng-show="!phiApp.loginRegistering" ng-controller="phiApp.loginController as loginController">\r\n\r\n                <button ng-click="phiApp.googleSignIn().then(phiApp.hideLogin)">Google?</button>\r\n\r\n                <form ng-submit="loginController.login()">\r\n                    <fieldset>\r\n                        <phi-input ng-model="loginController.credentials.username" label="email" ng-change="loginController.error = null"></phi-input>\r\n                        <phi-input ng-model="loginController.credentials.password" label="contrase&ntilde;a" type="password" ng-change="loginController.error = null"></phi-input>\r\n                    </fieldset>\r\n\r\n                    <footer>\r\n                        <button phi-button type="submit" ng-disabled="loginController.isLoading || !loginController.credentials.username.trim().length || !!loginController.error" ng-class="{error: !!loginController.error}">\r\n                            <span ng-show="loginController.isLoading">cargando</span>\r\n                            <span ng-show="!loginController.isLoading" ng-bind="loginController.error || \'ingresar\'"></span>\r\n                        </button>                                \r\n                    </footer>\r\n                </form>\r\n            </div>\r\n\r\n\r\n            <div ng-show="phiApp.loginRegistering" ng-controller="phiApp.signupController as signupController">\r\n\r\n                <div ng-if="signupController.verificationEmail">\r\n                    <p>En unos minutos recibir&aacute;s un mensaje a <strong ng-bind="signupController.verificationEmail"></strong> con instrucciones para activar tu cuenta</p>\r\n                    <a href ng-click="phiApp.hideLogin()">cerrar</a>\r\n                </div>\r\n\r\n                <form ng-submit="signupController.signup()" ng-show="!signupController.verificationEmail">\r\n\r\n                    <fieldset>\r\n                        <phi-input ng-model="signupController.account.email" label="email"></phi-input>\r\n                        <span class="error" ng-show="signupController.errors.email" ng-bind="signupController.errors.email"></span>\r\n\r\n                        <phi-input ng-model="signupController.account.firstName" label="nombre"></phi-input>\r\n                        <span class="error" ng-show="signupController.errors.firstName" ng-bind="signupController.errors.firstName"></span>\r\n\r\n                        <phi-input ng-model="signupController.account.lastName" label="apellido"></phi-input>\r\n                        <span class="error" ng-show="signupController.errors.lastName" ng-bind="signupController.errors.lastName"></span>\r\n\r\n                        <phi-input ng-model="signupController.account.password" label="elige una contrase&ntilde;a" type="password"></phi-input>\r\n                        <span class="error" ng-show="signupController.errors.password" ng-bind="signupController.errors.password"></span>\r\n\r\n                        <phi-input ng-model="signupController.account.password2" label="escribe tu contrase&ntilde;a nuevamente" type="password"></phi-input>\r\n                        <span class="error" ng-show="signupController.errors.password2" ng-bind="signupController.errors.password2"></span>\r\n                    </fieldset>\r\n\r\n                    <footer>\r\n                        <button phi-button type="submit" ng-disabled="signupController.isLoading">\r\n                            <span ng-show="!signupController.isLoading">crear cuenta</span>\r\n                            <span ng-show="signupController.isLoading">creando</span>\r\n                        </button>\r\n                    </footer>\r\n\r\n                </form>\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>'),n.put("/application/states/center/center.html",'<phi-state class="state-center">\r\n    <phi-state-cover style="background-image: url(\'img/cover.jpg\')" phi-color-tint="#01579b" ng-class="{collapsed: !!vm.isCollapsed}">\r\n        <div class="header">\r\n            <h1 ng-bind="vm.center.name"></h1>\r\n            <p ng-bind="vm.center.category"></p>\r\n        </div>\r\n    </phi-state-cover>\r\n\r\n    <phi-state-navigation>\r\n        <phi-menu>\r\n            <phi-menu-item ui-sref="center.home({centerId: vm.centerId})" ui-sref-active="active">Inicio</phi-menu-item>\r\n            <phi-menu-item ui-sref="center.facilities({centerId: vm.centerId})" ui-sref-active="active">Instalaciones</phi-menu-item>\r\n            <phi-menu-item ui-sref="center.admissions({centerId: vm.centerId})" ui-sref-active="active">Admisiones</phi-menu-item>\r\n        </phi-menu>\r\n    </phi-state-navigation>\r\n\r\n    <phi-state-contents ui-view>\r\n        <h1>... loading ...</h1>\r\n    </phi-state-contents>\r\n</phi-state>'),n.put("/application/states/city/city.html",'<phi-state id="city">\r\n\r\n    <phi-state-cover style="background-image: url(\'http://beta.mejorescolegios.es/img/cities/{{vm.city}}.jpg\')" phi-color-tint="#000">\r\n        <div class="header">\r\n            <div class="search" phi-icon-left="{{vm.isLoading ? \'fa-spinner\' : \'fa-search\'}}" phi-icon-animation="{{vm.isLoading ? \'spin\' : \'\'}}">\r\n                <input type="text"\r\n                    placeholder="Busca colegios en {{vm.city}}"\r\n                    ng-model="vm.query"\r\n                    ng-model-options="{debounce: 400}"\r\n                    ng-change="vm.find(vm.query)"\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        <phi-state-navigation>\r\n            <div>\r\n                <h1 class="total">\r\n                    <strong ng-bind="vm.isLoading ? \'buscando\' : vm.total"></strong>\r\n                    <span>colegios en</span>\r\n                    <span ng-bind="vm.city"></span>\r\n                </h1>\r\n\r\n                <phi-menu>\r\n                    <phi-menu-item phi-icon-left="fa-th-large"   ng-click="vm.setView(\'grid\')" ng-class="{active: vm.view == \'grid\'}">matriz</phi-menu-item>\r\n                    <phi-menu-item phi-icon-left="fa-bars"       ng-click="vm.setView(\'list\')" ng-class="{active: vm.view == \'list\'}">lista</phi-menu-item>\r\n                    <phi-menu-item phi-icon-left="fa-map-marker" ng-click="vm.setView(\'map\')"  ng-class="{active: vm.view == \'map\'}">mapa</phi-menu-item>\r\n                </phi-menu>\r\n            </div>\r\n        </phi-state-navigation>\r\n\r\n    </phi-state-cover>\r\n\r\n\r\n\r\n    <phi-state-contents>\r\n\r\n        <div id="google-map" ng-show="vm.view == \'map\'"></div>\r\n\r\n        <section id="centers" phi-grid ng-show="vm.view != \'map\'">\r\n\r\n            <a ng-repeat="center in vm.centers" ui-sref="center.home({centerId: center.id})" target="_blank">\r\n                <phi-card class="center">\r\n                    <phi-card-cover style="background-image: url(\'{{center.cover}}\'), url(\'img/cover.jpg\')" phi-color-tint="#444">\r\n                        <h1 class="title" ng-bind="center.name"></h1>\r\n                    </phi-card-cover>\r\n\r\n                    <phi-card-contents>\r\n                        <div class="logo" ng-if="center.logo">\r\n                            <img ng-src="{{center.logo}}" alt="{{center.name}}" />\r\n                        </div>\r\n                        <p class="description" ng-bind="center.category"></p>\r\n                        <p class="address" phi-icon-left="fa-map-marker">{{center.address}}, {{center.city}}, {{center.region}}, {{center.postalCode}}</p>\r\n                    </phi-card-contents>\r\n                </phi-card>\r\n            </a>\r\n\r\n        </section>\r\n\r\n\r\n    </phi-state-contents>\r\n\r\n</phi-state>'),n.put("/application/states/home/home.html",'<phi-state id="home">\r\n    <phi-state-cover style="background-image: url(\'img/cover.jpg\')" phi-color-tint="#2196F3" ng-class="{collapsed: searchIsFocused || !!vm.query}">\r\n        <div class="header">\r\n            <h1>Encuentra el mejor colegio</h1>\r\n            <div class="search" phi-icon-left="{{vm.isLoading ? \'fa-spinner\' : \'fa-search\'}}" phi-icon-animation="{{vm.isLoading ? \'spin\' : \'\'}}">\r\n                <input type="text"\r\n                    placeholder="Busca por ciudad o nombre del colegio"\r\n                    ng-model="vm.query"\r\n                    ng-model-options="{debounce: 400}"\r\n                    ng-change="vm.find(vm.query)"\r\n                    ng-focus="searchIsFocused = true"\r\n                    ng-blur="searchIsFocused = false" \r\n                />\r\n            </div>\r\n        </div>\r\n    </phi-state-cover>\r\n\r\n    <phi-state-contents>\r\n\r\n        <section id="cities" phi-grid>\r\n            <phi-card class="city" ng-repeat="city in vm.cities" ui-sref="city({city: city.name})">\r\n                <phi-card-cover style="background-image: url(\'http://beta.mejorescolegios.es/img/cities/{{city.name}}.jpg\')"></phi-card-cover>\r\n                <phi-card-contents>\r\n                    <h1 ng-bind="city.name"></h1>\r\n                    <p><strong ng-bind="city.count"></strong> colegios</p>\r\n                </phi-card-contents>\r\n            </phi-card>\r\n        </section>\r\n\r\n        <section id="centers" phi-grid>\r\n            <phi-card class="center" ng-repeat="center in vm.centers" ui-sref="center.home({centerId: center.id})">\r\n                <phi-card-cover style="background-image: url(\'{{center.cover}}\'), url(\'img/cover.jpg\')">\r\n                    <h1 class="title" ng-bind="center.name"></h1>\r\n                </phi-card-cover>\r\n                <phi-card-contents>\r\n                    <div class="logo" ng-if="center.logo">\r\n                        <img ng-src="{{center.logo}}" alt="{{center.name}}" />\r\n                    </div>\r\n                    <p class="description" ng-bind="center.category"></p>\r\n                    <p class="address" phi-icon-left="fa-map-marker">{{center.address}}, {{center.city}}, {{center.region}}, {{center.postalCode}}</p>\r\n                </phi-card-contents>\r\n            </phi-card>\r\n        </section>\r\n\r\n    </phi-state-contents>\r\n\r\n</phi-state>'),n.put("/application/states/sample/sample.html",'<phi-state class="state-sample">\r\n    <phi-state-cover style="background-image: url(\'img/cover.jpg\')" phi-color-tint="#01579b" ng-class="{collapsed: !!vm.isCollapsed}">\r\n        <div>\r\n            <h1 ng-bind="vm.title"></h1>\r\n            <p ng-bind="vm.description"></p>\r\n        </div>\r\n    </phi-state-cover>\r\n\r\n    <phi-state-navigation>\r\n        <phi-menu>\r\n            <phi-menu-item ui-sref="sample.child({id: \'one\'})" ui-sref-active="active">One</phi-menu-item>\r\n            <phi-menu-item ui-sref="sample.child({id: \'two\'})" ui-sref-active="active">Two</phi-menu-item>\r\n            <phi-menu-item ui-sref="sample.child({id: \'three\'})" ui-sref-active="active">Three</phi-menu-item>\r\n        </phi-menu>\r\n    </phi-state-navigation>\r\n\r\n    <phi-state-contents ui-view>\r\n        <h1>... loading ...</h1>\r\n    </phi-state-contents>\r\n</phi-state>'),n.put("/application/states/center/admissions/admissions.html",'<div id="state-center-admissions">\r\n\r\n    <div ng-repeat="post in vm.processes">\r\n        <a ui-sref="admissionHome({centerId: vm.parent.center.id, admissionId: post.id})" class="post phi-padded" phi-texture="paper">\r\n            <h1 ng-bind="post.title"></h1>\r\n            <p ng-bind="post.description"></p>\r\n        </a>\r\n    </div>\r\n\r\n</div>'),n.put("/application/states/center/facilities/facilities.html",'<div id="state-center-facilities">\r\n\r\n    <code>{{vm}}</code>\r\n\r\n    <div class="facilities" phi-layout="row" phi-layout-wrap>\r\n\r\n        <div class="facility" phi-texture="paper" ng-repeat="facility in vm.facilities">\r\n            <h3 ng-bind="facility.type"></h3>\r\n            <h1 ng-bind="facility.title"></h1>\r\n            <!--<phidias-api-resource ng-repeat="block in facility.blocks" type="{{block.type}}" src="{{block.url|trustAsResourceUrl}}"></phidias-api-resource>-->\r\n            <phi-post ng-model="facility"></phi-post>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'),n.put("/application/states/center/home/home.html",'<div id="state-center-home">\r\n    <phi-post ng-model="vm.post" phi-texture="paper"></phi-post>\r\n    <!--<phi-post-editor ng-model="vm.post" phi-texture="paper"></phi-post-editor>-->\r\n</div>'),n.put("/application/states/sample/child/child.html",'<div>\r\n    <h1>State <strong ng-bind="vm.id"></strong></h1>\r\n</div>'),n.put("/application/states/center/admissions/admissionId/admissionId.html",'<phi-state>\r\n\r\n    <phi-state-cover style="background-image: url(\'img/cover.jpg\')" phi-color-tint="#01579b">\r\n        <div class="header">\r\n            <nav class="breadcrumbs">\r\n                <a ui-sref="center.admissions({centerId: vm.center.id})" ng-bind="vm.center.name"></a>\r\n            </nav>\r\n            <h1 ng-bind="vm.post.title"></h1>\r\n        </div>\r\n    </phi-state-cover>\r\n\r\n    <phi-state-contents>\r\n\r\n        <p ng-bind="vm.post.description" class="phi-padded"></p>\r\n\r\n        <div class="phi-padded" phi-texture="paper">\r\n            <phi-post ng-model="vm.post"></phi-post>\r\n        </div>\r\n\r\n        <div class="phi-padded" phi-texture="paper">\r\n            <phi-post-editor ng-model="vm.post"></phi-post-editor>\r\n        </div>\r\n\r\n    </phi-state-contents>\r\n\r\n</phi-state>')}]);